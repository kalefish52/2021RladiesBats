---
title: "R'ladies - Intro to Github and R"
date: "September 2021" 
author: "Kaleigh Fisher" 
output:
  html_document: default
  pdf_document: default
---

Make Branch change 2 
Kaleigh push/pull practice
eder is cool
Rawan push/pull practice, I had coffee 
Eder is here
I'm eating Chicken for lunch
Hello - Kaleigh
# Best practices for data management
1. Organize data and projects in an accessible way - for both the primary investigator and others 
+ Descriptive naming 
+ Structured and consistent file approach 
2. Once you input data - do not change the master file and give it an informative name 
+ I usually try to put the year I input the data and information about the project that distinguishes from other projects in the group I work in. 
+ For example - YearGrantProjectDescription
3. Version control - github 
+ Regularly commit and push code to github
4. Collaborative coding - github 
+ Write code so you can share it at any time during the development process - not just when it is finished
5. Self-contained workflows - 
+everything needed to run the code is accessible
ie. data manipulation and analysis can be executed and critiqued by any person, including the primary investigator
+ Make sure to take lots of notes: describe the data and your code 

## What is github? 
A development platform that has a variety of tools, including collaborative coding. 
-Can create repositories with coding scripts that can be shared and modified by multiple users. 
-Version control 

## Benefits of reproducible data management
1. Remind yourself and others how you organized and analyzed your data - easier to complete manuscript/presentation
2. More transparency, confidence and rigor - part of the peer review process?
3. Greater trust from the scientific community and the general public 
4. Makes science more accessible - more people can understand and critique analyses, not just experts 

For resources on how to set up git desktop, git2r and trouble shooting visit this wiki: https://happygitwithr.com/

# Intro to Github
1. Make a github account
2. Make a repo "2021RladiesBison" 

change here :) 

Let's download some data to put into the repository 
This data is from dryad - Do riparian forest strips in modified forest landscapes aid in conserving bat diversity?
https://datadryad.org/stash/dataset/doi:10.5061/dryad.3td78sk
*make sure to save as csv first and then upload to git

# Navigating folders/repositories/directories on the command line 
ls: see list of folders 
cd: change directory
mkdir: make a new folder 
mv: move a folder or directory 
example - mv ~/Downloads/doi_10.5061_dryad.k3j9kd56m__v4/input01.csv ~/Desktop/input01.csv

# Intro to Rstudio 
Different windows and features

# Github and Rstudio
1.Clone repository onto local desktop via command line in Rstudio or local command line
+ Navigate to folder you want to place repository into (cd) 
To see a list of files in the directory you are currently in: ls; windows: dir
+ In the command line type -> git clone "paste repository name from github"
3. In R-studio (right hand corner), open github repository 
4. Start working :) 
5. Be sure to regularly save and commit your work. At the end of a session, make sure to push back to github. At the beginning of any session, make sure to pull from github, especially if you are working with collaborators. 
-Specifically, after you make a change to the code file (Rmd), do the following in this order. 

1) Save the file with the floppy disk on the top panel or file>save
2) Click on the file that you changed and saved in the git window
3) Press commit in the git window and write the message 
4) Push your changes 


# Now lets look at our data 
```{r}
# First where are we? 
getwd()  # prints out current working directory 

#read.csv("/Users/rawanaljudeid/Desktop/2021RladiesBats/Bats_Capture_Database.csv") # Absolute file path 
data<-read.csv("./Bats_Capture_Database.csv") # Relative file path 
data

# What are the columns? 
names(data) # can also look at readme file 
# How many samples do we have? 
nrow(data)
print(paste("We have", nrow(data), "bat samples."))

head(data)
ncol(data)
```

# Descriptive Info about Data
```{r}
library(ggplot2)
library(ggpubr)
names(data)
# How many bat species are in the dataset? 
batspec<-unique(data["Species"]) 

print(paste("There are", nrow(batspec), "species in the dataset."))


# Reduce dataframe
SpeciesRed<-unique(data[c("Habitat", "Species")]) 
SpeciesRed[order(SpeciesRed$Habitat),]

# How many species in each habitat type? 
SpeciesRich<-aggregate(Species~Habitat,
                     data=SpeciesRed,
                     FUN=length)

# Graph it 
ggplot(data=SpeciesRich, aes(x=Habitat, y=Species)) +
    geom_bar(colour="black", stat="identity")

ggsave("./Figures/BatSpecies.png")
# Explore the aggregate function by looking at other parts of the data 
```



